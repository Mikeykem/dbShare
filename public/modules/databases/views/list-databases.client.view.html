<section data-ng-controller="DatabasesController" data-ng-init="find()">
    <div class="page-header">
        <h1>Databases</h1>
    </div>
    <h5>Search by:</h5> 
    <select ng-model="searchKey" style="margin-bottom: 10px;">
        <option value="$" selected="selected"> Any </option>
        <option value="name"> Name </option>
        <option value="descriptionShort"> Short Description </option> 
    </select>

    <div class="input-group input-group-sm" style="margin-bottom:10px">
         Search: <input ng-model="query[searchKey]" class="form-control" placeholder = "Filter Criteria">
    </div>

    <table class = "table table-striped table-bordered table-hover table-condensed">
        <col width = "30">
        <col width = "250">
        <col width = "900">
        <col width = "100">
        <col width = "100">
        <tr> 
            <th>Add/Remove</th>
            <th><a href="" ng-click="predicate = 'name'; reverse=!reverse">Name</th>
            <th><a href="" ng-click="predicate = 'descriptionShort'; reverse=!reverse">Description</th>
            <th><a href="" ng-click="predicate = 'created'; reverse=!reverse">Posted On</th>
            <th><a href="" ng-click="predicate = 'user.displayName'; reverse=!reverse">Posted By</th>
        </tr>
        <tr data-ng-repeat="database in databases | orderBy: predicate : reverse | filter:query" >
            <td><button style = "vertical-align: center; margin-left: 25px" ng-show="checkForDatabaseInPortfolio({{database}})" data-ng-click="addDatabaseToPortfolio({{database}})" class="btn addDatabases"><i class="glyphicon glyphicon-plus"></i></button> 
                <button style = "vertical-align: center; margin-left: 25px" ng-show="!checkForDatabaseInPortfolio({{database}})" data-ng-click="removeDatabaseFromPortfolio({{database}})" class="btn removeDatabase"><i class="glyphicon glyphicon-minus"></i></button>
            </td>
            <td><a data-ng-href="#!/databases/{{database._id}}" class="list-group-item"> {{database.name}} </td>
            <td>{{database.descriptionShort}}</td>
            <td>{{database.created | date:'shortDate'}}</td>
            <td>{{database.user.displayName}}</td>


    </table>


    <div class="alert alert-warning text-center" data-ng-hide="!databases.$resolved || databases.length">
    	No Databases yet, why don't you <a href="/#!/databases/create">create one</a>?
    </div>
</section>