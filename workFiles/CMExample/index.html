<!doctype html>
<html>
<head>
    <title>CodeMirror Example</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="CodeMirror/lib/codemirror.css">
    <link rel="stylesheet" type="text/css" href="css/docs.css"/>
    <link rel="stylesheet" href="CodeMirror/addon/hint/show-hint.css">
    <link rel="stylesheet" href="CodeMirror/addon/fold/foldgutter.css">
    <link rel="stylesheet" href="CodeMirror/theme/monokai.css">
</head>
<body>
<h1>CodeMirror Example</h1>
<p>Current mode: <span id="modeinfo">text/plain</span></p>
<form><textarea id="code" name="code" placeholder="Code goes here..."></textarea></form>
    <p>Hit Ctrl+Space to trigger autocomplete</p>
<p>Filename, mime, or mode name: <input type="text" value="foo.js" id="mode">
    <button type=button onclick="change()">change mode</button></p>

<script src="CodeMirror/lib/codemirror.js"></script>
<script src="CodeMirror/addon/hint/show-hint.js"></script>
<script src="CodeMirror/addon/hint/javascript-hint.js"></script>
<script src="CodeMirror/addon/fold/foldcode.js"></script>
<script src="CodeMirror/addon/fold/foldgutter.js"></script>
<script src="CodeMirror/addon/fold/brace-fold.js"></script>
<script src="CodeMirror/addon/fold/xml-fold.js"></script>
<script src="CodeMirror/addon/fold/comment-fold.js"></script>
<script src="CodeMirror/addon/edit/closetag.js"></script>
<script src="CodeMirror/addon/selection/active-line.js"></script>
<script src="CodeMirror/addon/edit/closebrackets.js"></script>
<script src="CodeMirror/addon/search/search.js"></script>
<script src="CodeMirror/mode/meta.js"></script>
<script src="CodeMirror/addon/mode/loadmode.js"></script>
<script src="CodeMirror/addon/search/match-highlighter.js"></script>
<script src="CodeMirror/addon/display/placeholder.js"></script>

<script type="text/javascript">

    var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
        lineNumbers: true,
        viewportMargin: Infinity
    });
//        CodeMirror.modeURL = "CodeMirror/mode/%N/%N.js";
//
//        var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
//            lineNumbers: true,
//            viewportMargin: Infinity,
//            lineWrapping: true,
//            autoCloseTags: true,
//            autoCloseBrackets: true,
//            enableSearchTools: true,
//            showSearchButton: true,
//            highlightMatches: true,
//            smartIndent: true,
//            theme: "default",
//            extraKeys: {"Ctrl-Space": "autocomplete"},
//            foldGutter: {
//                rangeFinder: new CodeMirror.fold.combine(CodeMirror.fold.brace, CodeMirror.fold.comment)
//            },
//            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
//        });
//
//        CodeMirror.commands.autocomplete = function(cm) {
//            CodeMirror.showHint(cm, CodeMirror.hint.javascript);
//        };
//
//        var modeInput = document.getElementById("mode");
//        CodeMirror.on(modeInput, "keypress", function(e) {
//            if (e.keyCode == 13) change();
//        });
//
//        function change() {
//            var val = modeInput.value, m, mode, spec;
//            if (m = /.+\.([^.]+)$/.exec(val)) {
//                var info = CodeMirror.findModeByExtension(m[1]);
//                if (info) {
//                    mode = info.mode;
//                    spec = info.mime;
//                }
//            } else if (/\//.test(val)) {
//                var info = CodeMirror.findModeByMIME(val);
//                if (info) {
//                    mode = info.mode;
//                    spec = val;
//                }
//            } else {
//                mode = spec = val;
//            }
//            if (mode) {
//                editor.setOption("mode", spec);
//                CodeMirror.autoLoadMode(editor, mode);
//                document.getElementById("modeinfo").textContent = spec;
//            } else {
//                alert("Could not find a mode corresponding to " + val);
//            }
//        }
</script>
</body>
</html>